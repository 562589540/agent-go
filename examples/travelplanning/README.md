# 旅行规划链示例

此示例展示了如何使用Agent-Go框架的Chain架构实现旅行规划应用，展示了LangChain架构的核心组件和功能。

## 功能

- 使用OpenAI代理与大型语言模型进行交互
- 注册和使用天气查询工具
- 注册和使用旅行建议工具
- 使用提示词模板生成结构化提示词
- 使用结构化输出解析器处理LLM输出
- 使用内存组件保存对话历史
- 使用LLM链组织工作流
- **多链组合**：展示如何将多个链组合成更复杂的工作流

## 使用方法

直接运行示例：

```bash
go run .
```

或者从主示例选择器运行：

```bash
cd .. && go run . travelplanning
```

## 示例输出

示例包含两部分：

### 1. 单链示例

展示使用单一LLM链处理旅行规划：
1. 创建OpenAI代理并注册工具
2. 创建旅行规划提示词模板
3. 创建结构化输出解析器
4. 创建LLM链和内存组件
5. 运行链生成旅行计划
6. 显示生成的旅行计划和对话历史

### 2. 多链组合示例

展示如何组合多个链形成流水线处理过程：
1. **天气分析链**：分析目的地的季节性天气情况
2. **景点推荐链**：基于天气分析结果推荐适合的景点
3. **行程规划链**：根据景点推荐制定详细的行程安排
4. **顺序链**：将上述三个链按顺序组合在一起
5. 运行组合链，展示数据如何在链之间流动

## 多链组合模式

示例中展示了链的组合模式：

- **链的专一性**：每个链专注于特定的任务
- **链的顺序执行**：前一个链的输出作为后一个链的输入
- **数据流动**：数据在链之间自动传递，使用`result`键
- **记忆共享**：链可以共享记忆组件

## 代码概述

此示例展示了Chain包的主要组件：

- `PromptTemplate` - 提示词模板，用于生成结构化提示词
- `StructuredOutputParser` - 结构化输出解析器，将LLM输出解析为结构化数据
- `ConversationMemory` - 对话记忆组件，保存对话历史
- `LLMChain` - LLM链，连接提示词模板、代理和输出解析器
- `SequentialChain` - 顺序链，组合多个链形成工作流

## 注意事项

- 需要设置环境变量 `OPENAI_API_KEY` 为有效的API密钥
- 多链组合相比单链处理会消耗更多的Token，但可以得到更精细、更专业的结果
- 每个链可以使用不同的模型和参数，针对各自的任务进行优化 